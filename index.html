<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi página con Bootstrap</title>

  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
    crossorigin="anonymous">
</head>

<body>
  <div class="container1">
    <h1 id = "titulo">ACCESO AL DOM BÁSICO</h1>
    <p>Primeros ejercicios con manipulación del DOM.</p>
  </div>
  
  <script>
    //=================1. ACCESO AL DOM BASICO ========================
    // Asigna un id al <h1> y cambia su texto usando getElementById
    const h1 = document.getElementById("titulo");
    h1.id = "Titulo";
    document.getElementById('Titulo').textContent = 'Bienvenido al DOM ';
    
    // Cambiar el color del primer <p> usando getElementsByTagName
    const parrafos = document.getElementsByTagName("p");
    parrafos[0].style.color = "blue";

    //==================2.MODIFICACIÓN DE VARIOS ELEMENTOS.==================
    /*Crea tres párrafos con la clase texto.
    Usa getElementsByClassName para recorrerlos con un for y cambiar el color de fondo a
    gris.*/
   // Seleccionamos el contenedor donde los pondremos
  const contenedor = document.querySelector(".container1");// selecciona el div con clase container1

  // Crear tres párrafos dinámicamente
    for (let i = 1; i <= 3; i++) {
        const p = document.createElement("p");   // crea un <p>
        p.className = "texto";                   // asigna la clase "texto"
        p.textContent = `Este es el párrafo número ${i}`;  // texto dentro
        contenedor.appendChild(p);               // lo agrega al contenedor
    }
    //Usar getElementsByClassName para recorrerlos con un for y cambiar el color de fondo a gris.
    const textos = document.getElementsByClassName("texto");
    for (let i = 0; i < textos.length; i++) {
        textos[i].style.backgroundColor = "gray"; 
    }
    //==================3. USO DE QUERYSELECTOR ==================
    //Usa querySelector para seleccionar el primer <div> con clase .caja y cambia su borde y fondo con style. 
    const caja = document.querySelector(".container1"); 
    caja.style.border = "2px solid red";
    caja.style.backgroundColor = "lightgrey";

    //======4. querySelectorAll y forEach ======
    /*
    Crea tres botones con clase btn-dom. Recógelos con querySelectorAll y cambia el texto de todos ellos a “DOM listo ”.*/
    //primero creo un div para contener los botones
    const contenedorBotones = document.createElement("div");
    document.body.appendChild(contenedorBotones);//Asi los añadimos concreatamente al cuerpo.
    for (let i = 1; i <= 3; i++) { //Asi creo los tres botones a la vez, con sus propiedades.
      const boton = document.createElement("button");
      boton.className = "btn-dom";
      boton.textContent = `Botón ${i}`; // Texto inicial
      contenedorBotones.appendChild(boton);
      
    }
    const botonesDom = document.querySelectorAll(".btn-dom");
    // 4. Recorrer la NodeList con forEach y cambiar el texto
    // NOTA: Se usa forEach ya que querySelectorAll devuelve una NodeList, no un HTMLCollection
    botonesDom.forEach(boton => {
      boton.textContent = "DOM listo";
      });

    //==========5. Comparación entre colecciones vivas y estáticas==============
    /*Crea una lista <ul id="lista"> con dos <li>.
      Muestra por consola la diferencia entre getElementsByTagName("li") (viva) y
      querySelectorAll("li") (estática) al agregar un nuevo elemento.
    */
    const contenedorColecciones = document.createElement("div");
    document.body.appendChild(contenedorColecciones);
    const ul = document.createElement("ul");
    ul.id = "lista";
    const li1 = document.createElement("li");
    li1.textContent = "Elemento 1";
    const li2 = document.createElement("li");
    li2.textContent = "Elemento 2";
    ul.appendChild(li1);
    ul.appendChild(li2);
    contenedorColecciones.appendChild(ul);
    // Obtener colecciones
    const coleccionViva = document.getElementsByTagName("li");
    const coleccionEstatica = document.querySelectorAll("li");
    console.log("Antes de agregar nuevo elemento:");
    console.log("Colección viva (getElementsByTagName):", coleccionViva.length); // 2
    console.log("Colección estática (querySelectorAll):", coleccionEstatica.length); // 2
    // Agregar un nuevo elemento <li>
    const li3 = document.createElement("li");
    li3.textContent = "Elemento 3";
    ul.appendChild(li3);
    console.log("Después de agregar nuevo elemento:");
    console.log("Colección viva (getElementsByTagName):", coleccionViva.length); // 3
    console.log("Colección estática (querySelectorAll):", coleccionEstatica.length); // 2

  /*==============================================================================
        6. Crear elementos dinámicamente
      Usa createElement() para crear un <p> con texto "Creado dinámicamente" y añádelo al
      body con appendChild().
  ====================================================================================*/
  const parrafoDinamico = document.createElement('p'); //creado solamente en memoria.
  parrafoDinamico.textContent="Creado dinámicamente.";
  document.body.appendChild(parrafoDinamico);//importante acordarse de añadirlo al doc antes que al body
  

  /*
        7. Crear nodos de texto
        Crea un <div id="contenedor">.
        Genera un nodo de texto con createTextNode() y añádelo dentro del div.
  */
 //crear el div
  const divNode = document.createElement("div");
  divNode.id="contenedor";
  //crear el nodo de texto
  const nodeText = document.createTextNode("Contenido textual sin etiquetas HTML, creado con textNode.");
  //añadir el nodo al div
  divNode.appendChild(nodeText);
  //añadir div al body
  document.body.appendChild(divNode);

  /*
        8. Añadir atributos a un elemento
      Crea una imagen con createElement("img") y añade atributos con setAttribute():
      ● src → una URL de imagen de prueba.
      ● alt → “Imagen generada por JS”.
  */
  // Crear el elemento img
        const imagen = document.createElement("img");
        
        // Añadir atributos con setAttribute()
        imagen.setAttribute("src", "https://www.shutterstock.com/shutterstock/videos/1108567237/thumb/1.jpg?ip=x480/2x2");
        imagen.setAttribute("alt", "Imagen generada por JS");
        
        // Añadir la imagen al body
        document.body.appendChild(imagen);
  /*
          9. Crear estructura completa
  Crea dinámicamente una tarjeta de Bootstrap (card) con:
  ● Título (h5)
  ● Texto (p)
  ● Botón (button.btn.btn-primary)
  Todos generados desde JavaScript y añadidos dentro de un div.container.
  */
 // Crear el contenedor principal
        const container = document.createElement("div");
        container.className = "container mt-5";
        
        // Crear la card
        const card = document.createElement("div");
        card.className = "card";
        card.style.width = "18rem";
        
        // Crear el body de la card
        const cardBody = document.createElement("div");
        cardBody.className = "card-body";
        
        // Crear el título (h5)
        const titulo = document.createElement("h5");
        titulo.className = "card-title";
        titulo.textContent = "Título de la tarjeta";
        
        // Crear el texto (p)
        const texto = document.createElement("p");
        texto.className = "card-text";
        texto.textContent = "Este es un texto de ejemplo para la tarjeta creada dinámicamente con JavaScript.";
        
        // Crear el botón
        const boton = document.createElement("button");
        boton.className = "btn btn-primary";
        boton.textContent = "Ir a algún lugar";
        
        // Añadir evento al botón (opcional)
        boton.addEventListener("click", function() {
            alert("¡Botón clickeado!");
        });
        
        // Construir la estructura (de dentro hacia fuera)
        cardBody.appendChild(titulo);
        cardBody.appendChild(texto);
        cardBody.appendChild(boton);
        
        card.appendChild(cardBody);
        container.appendChild(card);
        
        // Añadir todo al body
        document.body.appendChild(container);

        /*
        10. Insertar elementos en distintas posiciones
        Crea una lista y usa:
        ● append() para añadir al final,
        ● prepend() para añadir al inicio,
        ● before() y after() para colocar nuevos elementos fuera del <ul>.
        */
        // Crear la lista inicial con algunos elementos
        // Cambiar "ul" por "ulMetodos" para evitar conflicto
// Crear la lista inicial con algunos elementos
const ulMetodos = document.createElement("ul");
ulMetodos.id = "mi-lista";

// Crear elementos iniciales (nombres diferentes)
const liMetodo1 = document.createElement("li");
liMetodo1.textContent = "Elemento original 1";

const liMetodo2 = document.createElement("li");
liMetodo2.textContent = "Elemento original 2";

const liMetodo3 = document.createElement("li");
liMetodo3.textContent = "Elemento original 3";

// Añadir elementos iniciales a la lista
ulMetodos.appendChild(liMetodo1);
ulMetodos.appendChild(liMetodo2);
ulMetodos.appendChild(liMetodo3);

// Añadir la lista al body
document.body.appendChild(ulMetodos);

// ============================================
// 1. append() - Añadir al FINAL de la lista
// ============================================
const liAppend = document.createElement("li");
liAppend.textContent = "Añadido al FINAL con append()";
liAppend.style.color = "blue";
liAppend.style.fontWeight = "bold";
ulMetodos.append(liAppend);

// ============================================
// 2. prepend() - Añadir al INICIO de la lista
// ============================================
const liPrepend = document.createElement("li");
liPrepend.textContent = "Añadido al INICIO con prepend()";
liPrepend.style.color = "green";
liPrepend.style.fontWeight = "bold";
ulMetodos.prepend(liPrepend);

// ============================================
// 3. before() - Añadir ANTES del <ul>
// ============================================
const parrafoBefore = document.createElement("p");
parrafoBefore.textContent = "Este párrafo está ANTES del <ul> usando before()";
parrafoBefore.style.color = "red";
parrafoBefore.style.fontStyle = "italic";
ulMetodos.before(parrafoBefore);

// ============================================
// 4. after() - Añadir DESPUÉS del <ul>
// ============================================
const parrafoAfter = document.createElement("p");
parrafoAfter.textContent = "Este párrafo está DESPUÉS del <ul> usando after()";
parrafoAfter.style.color = "purple";
parrafoAfter.style.fontStyle = "italic";
ulMetodos.after(parrafoAfter);
/*====================================================
  11. Reemplazar y eliminar
  Crea un párrafo <p> y un botón “Eliminar”.
  Al hacer clic, usa remove() para eliminar el párrafo y muestra un mensaje por consola.

  Luego, crea un segundo botón “Reemplazar” que use replaceWith() para cambiar un
  elemento por otro.
*/
// Crear un contenedor para este ejercicio
const contenedorEjercicio11 = document.createElement("div");
contenedorEjercicio11.className = "container mt-4 p-3 border";
document.body.appendChild(contenedorEjercicio11);

// Crear un título para el ejercicio
const tituloEjercicio = document.createElement("h3");
tituloEjercicio.textContent = "Ejercicio 11: Eliminar y Reemplazar";
contenedorEjercicio11.appendChild(tituloEjercicio);

// ============================================
// PARTE 1: Crear párrafo y botón "Eliminar"
// ============================================
const parrafoEliminar = document.createElement("p");
parrafoEliminar.textContent = "Este párrafo puede ser eliminado";
parrafoEliminar.style.backgroundColor = "lightblue";
parrafoEliminar.style.padding = "10px";
parrafoEliminar.style.marginTop = "10px";
contenedorEjercicio11.appendChild(parrafoEliminar);

const botonEliminar = document.createElement("button");
botonEliminar.textContent = "Eliminar";
botonEliminar.className = "btn btn-danger me-2";
contenedorEjercicio11.appendChild(botonEliminar);

// Evento para eliminar el párrafo
botonEliminar.addEventListener("click", function() {
    parrafoEliminar.remove(); // Elimina el elemento del DOM
    console.log("El párrafo ha sido eliminado del DOM");
    botonEliminar.disabled = true; // Desactivar el botón después de eliminar
    botonEliminar.textContent = "Ya eliminado";
});

// ============================================
// PARTE 2: Crear elemento y botón "Reemplazar"
// ============================================
const parrafoReemplazar = document.createElement("p");
parrafoReemplazar.textContent = "Este párrafo será reemplazado";
parrafoReemplazar.style.backgroundColor = "lightyellow";
parrafoReemplazar.style.padding = "10px";
parrafoReemplazar.style.marginTop = "10px";
contenedorEjercicio11.appendChild(parrafoReemplazar);

const botonReemplazar = document.createElement("button");
botonReemplazar.textContent = "Reemplazar";
botonReemplazar.className = "btn btn-warning";
contenedorEjercicio11.appendChild(botonReemplazar);

// Evento para reemplazar el párrafo
botonReemplazar.addEventListener("click", function() {
    // Crear el nuevo elemento que reemplazará al párrafo
    const nuevoElemento = document.createElement("div");
    nuevoElemento.innerHTML = "<strong>¡Elemento reemplazado con éxito!</strong>";
    nuevoElemento.style.backgroundColor = "lightgreen";
    nuevoElemento.style.padding = "10px";
    nuevoElemento.style.borderRadius = "5px";
    
    // Reemplazar el párrafo con el nuevo elemento
    parrafoReemplazar.replaceWith(nuevoElemento);
    console.log("El párrafo ha sido reemplazado por un nuevo elemento");
    
    botonReemplazar.disabled = true; // Desactivar el botón después de reemplazar
    botonReemplazar.textContent = "Ya reemplazado";
});
        
  </script>
</body>
</html>